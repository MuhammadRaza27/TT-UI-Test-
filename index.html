<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Window Layout</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.cdnfonts.com/css/innovator-grotesk');
        
        * {
            font-family: 'Innovator Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        }
        
        body, html {
            font-family: 'Innovator Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        }
        
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Innovator Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        }
        
        p, span, div, button, input, textarea {
            font-family: 'Innovator Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif !important;
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#191D40',
                        secondary: '#A78BFA',
                        dark: '#0F0F0F',
                        'dark-gray': '#1A1A1A',
                        'light-gray': '#2A2A2A',
                    },
                    fontFamily: {
                        'innovator': ['Innovator Grotesk', 'system-ui', 'sans-serif'],
                        'sans': ['Innovator Grotesk', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-dark font-sans min-h-screen">
    <!-- Main Container -->
    <div class="min-h-screen flex flex-col items-center justify-center px-4 py-8">
        <!-- Header Section -->
        <div class="text-center mb-10">
            <h1 class="text-[36px] font-medium text-white mb-1">
                Multi-Window Layout
            </h1>
            <p class="text-[16px] text-[#C0CBE1] max-w-2xl mx-auto">
                Easily build, save, and load layouts across multiple browser windows and screens.
            </p>
        </div>

        <!-- Current Layout Component -->
        <div class="grid grid-cols-1 gap-2 bg-[#161725] border border-[#444CE7] rounded-xl p-6 mb-8 max-w-[800px] w-full">
            <h2 class="text-[18px] font-medium text-white mb-4">Current Layout</h2>
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-2">
                    <span class="text-white text-[14px]">My Most Used Layout</span>
                     <div class="bg-[#0E0F18] px-2 py-1 border border-[#272A45] rounded-xl flex items-center justify-center">
                         <span class="text-[#C0CBE1] text-[10px]">5 tools</span>
                     </div>
                </div>
                <div class="flex items-center space-x-3">
                    <button id="saveLayoutBtn" class="bg-[#1B1D30] text-white px-2 py-2 rounded-lg flex items-center space-x-2 hover:bg-[#3538CD] transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="#A4BCFD" viewBox="0 0 14 14">
                            <path d="M3.66667 1V3.26667C3.66667 3.64004 3.66667 3.82672 3.73933 3.96933C3.80324 4.09477 3.90523 4.19676 4.03067 4.26067C4.17328 4.33333 4.35997 4.33333 4.73333 4.33333H9.26667C9.64004 4.33333 9.82672 4.33333 9.96933 4.26067C10.0948 4.19676 10.1968 4.09477 10.2607 3.96933C10.3333 3.82672 10.3333 3.64004 10.3333 3.26667V1.66667M10.3333 13V8.73333C10.3333 8.35997 10.3333 8.17328 10.2607 8.03067C10.1968 7.90523 10.0948 7.80324 9.96933 7.73933C9.82672 7.66667 9.64004 7.66667 9.26667 7.66667H4.73333C4.35997 7.66667 4.17328 7.66667 4.03067 7.73933C3.90523 7.80324 3.80324 7.90523 3.73933 8.03067C3.66667 8.17328 3.66667 8.35997 3.66667 8.73333V13M13 5.21699V9.8C13 10.9201 13 11.4802 12.782 11.908C12.5903 12.2843 12.2843 12.5903 11.908 12.782C11.4802 13 10.9201 13 9.8 13H4.2C3.0799 13 2.51984 13 2.09202 12.782C1.71569 12.5903 1.40973 12.2843 1.21799 11.908C1 11.4802 1 10.9201 1 9.8V4.2C1 3.0799 1 2.51984 1.21799 2.09202C1.40973 1.71569 1.71569 1.40973 2.09202 1.21799C2.51984 1 3.0799 1 4.2 1H8.78301C9.10913 1 9.27219 1 9.42564 1.03684C9.56169 1.0695 9.69175 1.12337 9.81105 1.19648C9.9456 1.27894 10.0609 1.39424 10.2915 1.62484L12.3752 3.7085C12.6058 3.9391 12.7211 4.0544 12.8035 4.18895C12.8766 4.30825 12.9305 4.43831 12.9632 4.57436C13 4.72781 13 4.89087 13 5.21699Z" stroke="#A4BCFD" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="text-[14px] font-bold">Save Layout</span>
                    </button>
                    <button id="editLayoutBtn" class="bg-[#1B1D30] text-white px-2 py-2 rounded-lg flex items-center space-x-2 hover:bg-[#444CE7] transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="#636E85" viewBox="0 0 16 16">
                            <g clip-path="url(#clip0_10956_2462)">
                                <path d="M12 6.66671L9.33331 4.00004M1.66663 14.3334L3.92287 14.0827C4.19853 14.0521 4.33636 14.0367 4.46519 13.995C4.57949 13.958 4.68826 13.9058 4.78855 13.8396C4.9016 13.7651 4.99966 13.667 5.19578 13.4709L14 4.66671C14.7364 3.93033 14.7364 2.73642 14 2.00004C13.2636 1.26366 12.0697 1.26366 11.3333 2.00004L2.52911 10.8042C2.33299 11.0003 2.23493 11.0984 2.16038 11.2114C2.09425 11.3117 2.04197 11.4205 2.00497 11.5348C1.96326 11.6636 1.94795 11.8015 1.91732 12.0771L1.66663 14.3334Z" stroke="#636E85" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                                <clipPath id="clip0_10956_2462">
                                    <rect width="16" height="16" fill="white"/>
                                </clipPath>
                            </defs>
                        </svg>
                        <span class="text-[#C0CBE1] text-[14px] font-bold">Edit Layout</span>
                    </button>
                    <button id="closeLayoutBtn" class="bg-[#1B1D30] text-white px-3 py-2 rounded-lg flex items-center space-x-2 hover:bg-[#444CE7] transition-colors">
                        <svg class="w-4 h-4" fill="none" stroke="#636E85" viewBox="0 0 10 10">
                            <path d="M9 1L1 9M1 1L9 9" stroke="#636E85" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        <span class="text-[#C0CBE1] text-[14px] font-bold">Close</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Action Cards Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 max-w-[800px] w-full gap-8 mb-16">
            <!-- Create New Layout Card -->
            <div class="border border-[#444CE7] rounded-xl p-8 hover: transition-all duration-300 cursor-pointer group">
                <div class="text-center">
                    <div class="w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-6 group-hover: transition-colors duration-300">
                        <svg width="64" height="64" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g filter="url(#filter0_d_10885_3890)">
                                <path d="M24 1.33337V38.6667M5.33337 20H42.6667" stroke="#444CE7" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"/>
                            </g>
                            <defs>
                                <filter id="filter0_d_10885_3890" x="0.583374" y="0.583374" width="46.8334" height="46.8334" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                                    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                                    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                                    <feOffset dy="4"/>
                                    <feGaussianBlur stdDeviation="2"/>
                                    <feComposite in2="hardAlpha" operator="out"/>
                                    <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                                    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_10885_3890"/>
                                    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_10885_3890" result="shape"/>
                                </filter>
                            </defs>
                        </svg>
                    </div>
                    <h3 class="text-xl text-[#828DA4] mb-3 ">Create New Layout</h3>
                    <p class="text-[#828DA4]">Start fresh with empty windows and add tools.</p>
                </div>
            </div>

            <!-- Load Saved Layout Card -->
            <div class="border border-[#444CE7] rounded-xl p-8 transition-all duration-300 cursor-pointer group">
                <div class="text-center">
                    <div class="w-16 h-16 rounded-lg flex items-center justify-center mx-auto mb-6 transition-colors duration-300">
                        <svg width="64" height="64" viewBox="0 0 50 50" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M25 25L49 25M25 1L25 49M13.8 1H36.2C40.6804 1 42.9206 1 44.6319 1.87195C46.1372 2.63893 47.3611 3.86278 48.1281 5.36808C49 7.07937 49 9.31958 49 13.8V36.2C49 40.6804 49 42.9206 48.1281 44.6319C47.3611 46.1372 46.1372 47.3611 44.6319 48.1281C42.9206 49 40.6804 49 36.2 49H13.8C9.31958 49 7.07937 49 5.36808 48.1281C3.86278 47.3611 2.63893 46.1372 1.87195 44.6319C1 42.9206 1 40.6804 1 36.2V13.8C1 9.31958 1 7.07937 1.87195 5.36808C2.63893 3.86278 3.86278 2.63893 5.36808 1.87195C7.07937 1 9.31958 1 13.8 1Z" stroke="#444CE7" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3 class="text-xl text-[#828DA4] mb-3">Load Saved Layout</h3>
                    <p class="text-[#828DA4]">Open a layout you saved earlier with its tools.</p>
                </div>
            </div>
        </div>

        <!-- Saved Layouts Section -->
        <div id="savedLayoutsSection" class="mb-16">
            <div class="flex items-center justify-center mb-4">
                <h3 class="text-[21px] font-medium text-white">Or Quickly load a recent layout</h3>
            </div>
            <div id="savedLayoutsList" class="space-y-3">
                <!-- Saved layouts will be dynamically added here -->
            </div>
        </div>

        <!-- Create Layout Modal -->
        <div id="createLayoutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-[#12121E]  rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
                <!-- Modal Header -->
                <div class="flex items-center justify-between p-6 border-b border-gray-700">
                    <h2 class="text-2xl font-bold text-white">Create Layout</h2>
                    <button id="closeModal" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="#414E69" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>

                <!-- Modal Body -->
                <div class="p-6 grid-cols-1 overflow-y-scroll">
                    <!-- Layout Name Input -->
                    <div class="mb-8">
                        <label class="block text-[14px] text-[#636E85] mb-3">Layout Name</label>
                        <input 
                            type="text[#636E85]" 
                            id="layoutName" 
                            placeholder="Type layout name"
                            class="w-full px-4 py-3 bg-[#161725] border border-[#161725] rounded-lg text-white placeholder-gray-400 focus:border-primary focus:outline-none transition-colors"
                        >
                    </div>

                    <!-- Add Tools Section -->
                    <div>
                        <label class="block text-[16px] text-[#A1ACC2] font-medium mb-4">Add Tools</label>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                            <!-- Bar Chart -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="bar-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 rounded-lg flex items-center justify-center">
                                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M10.6667 9.33333V22.6667M16 14.6667V22.6667M21.3333 20V22.6667M10.4 28H21.6C23.8402 28 24.9603 28 25.816 27.564C26.5686 27.1805 27.1805 26.5686 27.564 25.816C28 24.9603 28 23.8402 28 21.6V10.4C28 8.15979 28 7.03969 27.564 6.18404C27.1805 5.43139 26.5686 4.81947 25.816 4.43597C24.9603 4 23.8402 4 21.6 4H10.4C8.15979 4 7.03969 4 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4 7.03969 4 8.15979 4 10.4V21.6C4 23.8402 4 24.9603 4.43597 25.816C4.81947 26.5686 5.43139 27.1805 6.18404 27.564C7.03969 28 8.15979 28 10.4 28Z" stroke="#636E85" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Charts</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="most-active-tickers" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 rounded-lg flex items-center justify-center">
                                        <svg class="w-8 h-8 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Momo Most Mentioned -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="momo-most-mentioned" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 28H8.26667C6.77319 28 6.02646 28 5.45603 27.7094C4.95426 27.4537 4.54631 27.0457 4.29065 26.544C4 25.9735 4 25.2268 4 23.7333V4M9.33333 7.33333V23.3333M15.3333 11.3333V23.3333M21.3333 15.3333V23.3333M27.3333 19.3333V23.3333"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Momo Most Mentioned</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Events -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="events" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers (Duplicate) -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="most-active-tickers-2" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 13.3333H4M21.3333 2.66663V7.99996M10.6667 2.66663V7.99996M10.4 29.3333H21.6C23.8402 29.3333 24.9603 29.3333 25.816 28.8973C26.5686 28.5138 27.1805 27.9019 27.564 27.1493C28 26.2936 28 25.1735 28 22.9333V11.7333C28 9.49308 28 8.37298 27.564 7.51733C27.1805 6.76468 26.5686 6.15276 25.816 5.76927C24.9603 5.33329 23.8402 5.33329 21.6 5.33329H10.4C8.15979 5.33329 7.03969 5.33329 6.18404 5.76927C5.43139 6.15276 4.81947 6.76468 4.43597 7.51733C4 8.37298 4 9.49308 4 11.7333V22.9333C4 25.1735 4 26.2936 4.43597 27.1493C4.81947 27.9019 5.43139 28.5138 6.18404 28.8973C7.03969 29.3333 8.15979 29.3333 10.4 29.3333Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Events</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Events (Duplicate) -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="events-2" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="#636E85" viewBox="0 0 33 32">
                                            <path d="M7.92857 4C6.0375 4 4.5 5.5375 4.5 7.42857V24.5714C4.5 26.4625 6.0375 28 7.92857 28H25.0714C26.9625 28 28.5 26.4625 28.5 24.5714V7.42857C28.5 5.5375 26.9625 4 25.0714 4H7.92857ZM23.8446 8.5L18.2839 14.8536L24.825 23.5H19.7036L15.6964 18.2554L11.1054 23.5H8.56071L14.5071 16.7018L8.23393 8.5H13.4839L17.1107 13.2946L21.3 8.5H23.8446ZM21.8196 21.9786L12.7179 9.94107H11.2018L20.4054 21.9786H21.8143H21.8196Z"/>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">X/Twitter</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers (Third) -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="most-active-tickers-3" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 rounded-lg flex items-center justify-center">
                                        <svg class="w-8 h-8 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- X/Twitter -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="x-twitter" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 33 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5001 16L3.60912 12.594C2.77974 15.7331 3.12426 19.0669 4.57804 21.9701C6.03182 24.8732 8.49496 27.1461 11.5053 28.3624L16.5001 16ZM16.5001 16L16.6397 2.66736C13.6808 2.63637 10.7957 3.59053 8.43878 5.37956C6.08182 7.16859 4.38694 9.69083 3.62109 12.549L16.5001 16ZM29.8334 16C29.8334 23.3638 23.8639 29.3333 16.5001 29.3333C9.1363 29.3333 3.16676 23.3638 3.16676 16C3.16676 8.63616 9.1363 2.66663 16.5001 2.66663C23.8639 2.66663 29.8334 8.63616 29.8334 16Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Charts</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Pie Chart -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="pie-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 13.3333H4M21.3333 2.66663V7.99996M10.6667 2.66663V7.99996M10.4 29.3333H21.6C23.8402 29.3333 24.9603 29.3333 25.816 28.8973C26.5686 28.5138 27.1805 27.9019 27.564 27.1493C28 26.2936 28 25.1735 28 22.9333V11.7333C28 9.49308 28 8.37298 27.564 7.51733C27.1805 6.76468 26.5686 6.15276 25.816 5.76927C24.9603 5.33329 23.8402 5.33329 21.6 5.33329H10.4C8.15979 5.33329 7.03969 5.33329 6.18404 5.76927C5.43139 6.15276 4.81947 6.76468 4.43597 7.51733C4 8.37298 4 9.49308 4 11.7333V22.9333C4 25.1735 4 26.2936 4.43597 27.1493C4.81947 27.9019 5.43139 28.5138 6.18404 28.8973C7.03969 29.3333 8.15979 29.3333 10.4 29.3333Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Events</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Line Chart -->
                                <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="line-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="#636E85" viewBox="0 0 33 32">
                                            <path d="M7.92857 4C6.0375 4 4.5 5.5375 4.5 7.42857V24.5714C4.5 26.4625 6.0375 28 7.92857 28H25.0714C26.9625 28 28.5 26.4625 28.5 24.5714V7.42857C28.5 5.5375 26.9625 4 25.0714 4H7.92857ZM23.8446 8.5L18.2839 14.8536L24.825 23.5H19.7036L15.6964 18.2554L11.1054 23.5H8.56071L14.5071 16.7018L8.23393 8.5H13.4839L17.1107 13.2946L21.3 8.5H23.8446ZM21.8196 21.9786L12.7179 9.94107H11.2018L20.4054 21.9786H21.8143H21.8196Z"/>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">X/Twiter</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Area Chart -->
                                <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="area-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Candlestick Chart -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="candlestick-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.6667 9.33333V22.6667M16 14.6667V22.6667M21.3333 20V22.6667M10.4 28H21.6C23.8402 28 24.9603 28 25.816 27.564C26.5686 27.1805 27.1805 26.5686 27.564 25.816C28 24.9603 28 23.8402 28 21.6V10.4C28 8.15979 28 7.03969 27.564 6.18404C27.1805 5.43139 26.5686 4.81947 25.816 4.43597C24.9603 4 23.8402 4 21.6 4H10.4C8.15979 4 7.03969 4 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4 7.03969 4 8.15979 4 10.4V21.6C4 23.8402 4 24.9603 4.43597 25.816C4.81947 26.5686 5.43139 27.1805 6.18404 27.564C7.03969 28 8.15979 28 10.4 28Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Charts</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="flex items-center justify-end space-x-3 p-6 border-t border-gray-700 flex-shrink-0">
                    <button id="cancelBtn" class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition-colors">
                        Cancel
                    </button>
                    <button id="createBtn" class="px-6 py-2 bg-gray-600 text-white rounded-lg transition-colors hover:bg-gray-500 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                        Create Layout
                    </button>
                </div>
            </div>
        </div>

        <!-- Toast Notification -->
        <div id="toastNotification" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-[#10133A] rounded-lg p-4 w-80 border border-[#2A2A2A] shadow-lg">
                <div class="flex items-start justify-between mb-2">
                    <div>
                        <h4 class="text-white font-bold text-[16px]">Layout Saved!</h4>
                        <p class="text-white text-[14px] mt-1">"My Most Used Layout" has been saved.</p>
                    </div>
                    <button id="closeToast" class="text-white hover:text-gray-300 transition-colors ml-2">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="w-full bg-gray-400 rounded-full h-1">
                    <div id="toastProgress" class="bg-blue-500 h-1 rounded-full transition-all ease-linear" style="width: 0%"></div>
                </div>
            </div>
        </div>

        <!-- Unsaved Changes Confirmation Modal -->
        <div id="unsavedChangesModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-[#161725] rounded-xl p-6 w-full max-w-md mx-4 border border-[#2A2A2A]">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-[18px] font-medium text-white">Save Layout</h3>
                    <button id="closeUnsavedModal" class="text-white hover:text-gray-300 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="mb-6">
                    <p class="text-white text-[16px]">You have unsaved changes in this layout. Do you want to save it before closing?</p>
                </div>
                <div class="flex justify-end space-x-3">
                    <button id="discardChangesBtn" class="bg-[#2A2A2A] text-white px-4 py-2 rounded-lg hover:bg-[#3A3A3A] transition-colors">
                        Discard Changes
                    </button>
                    <button id="saveBeforeCloseBtn" class="bg-[#444CE7] text-white px-4 py-2 rounded-lg hover:bg-[#3538CD] transition-colors">
                        Save
                    </button>
                </div>
            </div>
        </div>

        <!-- Save Layout Confirmation Modal -->
        <div id="saveLayoutModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
            <div class="bg-[#161725] rounded-xl p-6 w-full max-w-md mx-4 border border-[#2A2A2A]">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-[18px] font-medium text-white">Save Layout</h3>
                    <button id="closeSaveModal" class="text-white hover:text-gray-300 transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div class="mb-6">
                    <p class="text-white text-[16px]">Are you sure you want to save "My Most Used Layout"?</p>
                </div>
                <div class="flex justify-end space-x-3">
                    <button id="cancelSaveBtn" class="bg-[#2A2A2A] text-white px-4 py-2 rounded-lg hover:bg-[#3A3A3A] transition-colors">
                        Cancel
                    </button>
                    <button id="confirmSaveBtn" class="bg-[#444CE7] text-white px-4 py-2 rounded-lg hover:bg-[#3538CD] transition-colors">
                        Save
                    </button>
                </div>
            </div>
        </div>

        <!-- Add Layout Modal -->
        <div id="addLayoutModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
            <div class="bg-[#12121E]  rounded-xl max-w-2xl w-full max-h-[90vh] flex flex-col">
                <!-- Modal Header -->
                <div class="flex items-center justify-between p-6 border-b border-gray-700">
                    <h2 class="text-2xl font-bold text-white">Add Layout</h2>
                    <button id="closeAddLayoutModal" class="text-gray-400 hover:text-white transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="#414E69" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>

                <!-- Modal Body -->
                <div class="p-6 grid-cols-1 overflow-y-scroll">
                    <!-- Tools Section -->
                    <div>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-2">
                            <!--Chart -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="bar-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 rounded-lg flex items-center justify-center">
                                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M10.6667 9.33333V22.6667M16 14.6667V22.6667M21.3333 20V22.6667M10.4 28H21.6C23.8402 28 24.9603 28 25.816 27.564C26.5686 27.1805 27.1805 26.5686 27.564 25.816C28 24.9603 28 23.8402 28 21.6V10.4C28 8.15979 28 7.03969 27.564 6.18404C27.1805 5.43139 26.5686 4.81947 25.816 4.43597C24.9603 4 23.8402 4 21.6 4H10.4C8.15979 4 7.03969 4 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4 7.03969 4 8.15979 4 10.4V21.6C4 23.8402 4 24.9603 4.43597 25.816C4.81947 26.5686 5.43139 27.1805 6.18404 27.564C7.03969 28 8.15979 28 10.4 28Z" stroke="#636E85" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Charts</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="most-active-tickers" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 rounded-lg flex items-center justify-center">
                                        <svg class="w-8 h-8 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Momo Most Mentioned -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="momo-most-mentioned" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 28H8.26667C6.77319 28 6.02646 28 5.45603 27.7094C4.95426 27.4537 4.54631 27.0457 4.29065 26.544C4 25.9735 4 25.2268 4 23.7333V4M9.33333 7.33333V23.3333M15.3333 11.3333V23.3333M21.3333 15.3333V23.3333M27.3333 19.3333V23.3333"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Momo Most Mentioned</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="events" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Events-->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="most-active-tickers-2" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 13.3333H4M21.3333 2.66663V7.99996M10.6667 2.66663V7.99996M10.4 29.3333H21.6C23.8402 29.3333 24.9603 29.3333 25.816 28.8973C26.5686 28.5138 27.1805 27.9019 27.564 27.1493C28 26.2936 28 25.1735 28 22.9333V11.7333C28 9.49308 28 8.37298 27.564 7.51733C27.1805 6.76468 26.5686 6.15276 25.816 5.76927C24.9603 5.33329 23.8402 5.33329 21.6 5.33329H10.4C8.15979 5.33329 7.03969 5.33329 6.18404 5.76927C5.43139 6.15276 4.81947 6.76468 4.43597 7.51733C4 8.37298 4 9.49308 4 11.7333V22.9333C4 25.1735 4 26.2936 4.43597 27.1493C4.81947 27.9019 5.43139 28.5138 6.18404 28.8973C7.03969 29.3333 8.15979 29.3333 10.4 29.3333Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Events</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Twitter -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="events-2" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="#636E85" viewBox="0 0 33 32">
                                            <path d="M7.92857 4C6.0375 4 4.5 5.5375 4.5 7.42857V24.5714C4.5 26.4625 6.0375 28 7.92857 28H25.0714C26.9625 28 28.5 26.4625 28.5 24.5714V7.42857C28.5 5.5375 26.9625 4 25.0714 4H7.92857ZM23.8446 8.5L18.2839 14.8536L24.825 23.5H19.7036L15.6964 18.2554L11.1054 23.5H8.56071L14.5071 16.7018L8.23393 8.5H13.4839L17.1107 13.2946L21.3 8.5H23.8446ZM21.8196 21.9786L12.7179 9.94107H11.2018L20.4054 21.9786H21.8143H21.8196Z"/>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">X/Twitter</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers (Third) -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="most-active-tickers-3" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 rounded-lg flex items-center justify-center">
                                        <svg class="w-8 h-8 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Charts-->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="x-twitter" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 33 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16.5001 16L3.60912 12.594C2.77974 15.7331 3.12426 19.0669 4.57804 21.9701C6.03182 24.8732 8.49496 27.1461 11.5053 28.3624L16.5001 16ZM16.5001 16L16.6397 2.66736C13.6808 2.63637 10.7957 3.59053 8.43878 5.37956C6.08182 7.16859 4.38694 9.69083 3.62109 12.549L16.5001 16ZM29.8334 16C29.8334 23.3638 23.8639 29.3333 16.5001 29.3333C9.1363 29.3333 3.16676 23.3638 3.16676 16C3.16676 8.63616 9.1363 2.66663 16.5001 2.66663C23.8639 2.66663 29.8334 8.63616 29.8334 16Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Charts</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Events -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="pie-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M28 13.3333H4M21.3333 2.66663V7.99996M10.6667 2.66663V7.99996M10.4 29.3333H21.6C23.8402 29.3333 24.9603 29.3333 25.816 28.8973C26.5686 28.5138 27.1805 27.9019 27.564 27.1493C28 26.2936 28 25.1735 28 22.9333V11.7333C28 9.49308 28 8.37298 27.564 7.51733C27.1805 6.76468 26.5686 6.15276 25.816 5.76927C24.9603 5.33329 23.8402 5.33329 21.6 5.33329H10.4C8.15979 5.33329 7.03969 5.33329 6.18404 5.76927C5.43139 6.15276 4.81947 6.76468 4.43597 7.51733C4 8.37298 4 9.49308 4 11.7333V22.9333C4 25.1735 4 26.2936 4.43597 27.1493C4.81947 27.9019 5.43139 28.5138 6.18404 28.8973C7.03969 29.3333 8.15979 29.3333 10.4 29.3333Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Events</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Twitter -->
                                <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="line-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="#636E85" viewBox="0 0 33 32">
                                            <path d="M7.92857 4C6.0375 4 4.5 5.5375 4.5 7.42857V24.5714C4.5 26.4625 6.0375 28 7.92857 28H25.0714C26.9625 28 28.5 26.4625 28.5 24.5714V7.42857C28.5 5.5375 26.9625 4 25.0714 4H7.92857ZM23.8446 8.5L18.2839 14.8536L24.825 23.5H19.7036L15.6964 18.2554L11.1054 23.5H8.56071L14.5071 16.7018L8.23393 8.5H13.4839L17.1107 13.2946L21.3 8.5H23.8446ZM21.8196 21.9786L12.7179 9.94107H11.2018L20.4054 21.9786H21.8143H21.8196Z"/>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">X/Twiter</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Most Active Tickers -->
                                <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="area-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 29 30">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.8334 9.66663V5.66663L23.8334 1.66663L25.1667 4.33329L27.8334 5.66663L23.8334 9.66663H19.8334ZM19.8334 9.66663L14.5 14.9999M27.8334 15C27.8334 22.3638 21.8639 28.3333 14.5001 28.3333C7.13628 28.3333 1.16675 22.3638 1.16675 15C1.16675 7.63616 7.13628 1.66663 14.5001 1.66663M21.1667 15C21.1667 18.6819 18.182 21.6666 14.5001 21.6666C10.8182 21.6666 7.83341 18.6819 7.83341 15C7.83341 11.3181 10.8182 8.33329 14.5001 8.33329"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Most Active Tickers</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>

                            <!-- Chart -->
                            <div class="tool-item flex items-center justify-between bg-[#161725] rounded-lg p-3 transition-colors" data-tool="candlestick-chart" data-added="false">
                                <div class="flex items-center space-x-3">
                                    <div class="w-8 h-8 flex items-center justify-center">
                                        <svg class="w-14 h-14 text-white" fill="none" stroke="#636E85" viewBox="0 0 32 32">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.6667 9.33333V22.6667M16 14.6667V22.6667M21.3333 20V22.6667M10.4 28H21.6C23.8402 28 24.9603 28 25.816 27.564C26.5686 27.1805 27.1805 26.5686 27.564 25.816C28 24.9603 28 23.8402 28 21.6V10.4C28 8.15979 28 7.03969 27.564 6.18404C27.1805 5.43139 26.5686 4.81947 25.816 4.43597C24.9603 4 23.8402 4 21.6 4H10.4C8.15979 4 7.03969 4 6.18404 4.43597C5.43139 4.81947 4.81947 5.43139 4.43597 6.18404C4 7.03969 4 8.15979 4 10.4V21.6C4 23.8402 4 24.9603 4.43597 25.816C4.81947 26.5686 5.43139 27.1805 6.18404 27.564C7.03969 28 8.15979 28 10.4 28Z"></path>
                                        </svg>
                                    </div>
                                    <span class="text-white text-[18px]">Charts</span>
                                </div>
                                <button class="tool-btn w-8 h-8 rounded-lg flex items-center justify-center hover:bg-[#191D40] transition-colors">
                                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Modal Footer -->
                <div class="flex items-center justify-end space-x-3 p-6 border-t border-gray-700 flex-shrink-0">
                    <button id="cancelAddLayoutBtn" class="px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500 transition-colors">
                        Cancel
                    </button>
                    <button id="addLayoutBtn" class="px-6 py-2 bg-[#3538CD] text-white rounded-lg transition-colors hover:bg-[#2A2BA3] cursor-pointer">
                        Add Layout
                    </button>
                </div>
            </div>
        </div>

    <script>
        // Add click functionality to cards and layout items
        document.querySelectorAll('.cursor-pointer').forEach(element => {
            element.addEventListener('click', function() {
                // Add click animation
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = 'scale(1)';
                }, 150);
                
                // Handle different actions based on element
                if (this.querySelector('h3').textContent.includes('Create New Layout')) {
                    // Open modal
                    document.getElementById('createLayoutModal').classList.remove('hidden');
                } else if (this.querySelector('h3').textContent.includes('Load Saved Layout')) {
                    console.log('Loading saved layout...');
                    // Add your load layout logic here
                } else {
                    const layoutName = this.querySelector('h3').textContent;
                    console.log(`Loading layout: ${layoutName}`);
                    // Add your load specific layout logic here
                }
            });
        });

        // Modal functionality
        const modal = document.getElementById('createLayoutModal');
        const closeModal = document.getElementById('closeModal');
        const cancelBtn = document.getElementById('cancelBtn');
        const createBtn = document.getElementById('createBtn');
        const layoutNameInput = document.getElementById('layoutName');

        // Close modal functions
        function closeModalFunction() {
            modal.classList.add('hidden');
            // Reset form
            layoutNameInput.value = '';
            resetAllTools();
            updateCreateButton();
            
            // Reset button text to original
            createBtn.textContent = 'Create Layout';
        }

        closeModal.addEventListener('click', closeModalFunction);
        cancelBtn.addEventListener('click', closeModalFunction);

        // Close modal when clicking outside
        modal.addEventListener('click', function(e) {
            if (e.target === modal) {
                closeModalFunction();
            }
        });

        // Tool selection functionality
        function toggleTool(toolItem) {
            const isAdded = toolItem.getAttribute('data-added') === 'true';
            const button = toolItem.querySelector('.tool-btn');
            
            if (isAdded) {
                // Remove tool
                toolItem.setAttribute('data-added', 'false');
                toolItem.classList.remove('bg-primary', 'border-primary');
                toolItem.classList.add('bg-[#161725]');
                button.innerHTML = `
                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                `;
                button.classList.remove('bg-[#444CE7]');
            } else {
                // Add tool
                toolItem.setAttribute('data-added', 'true');
                toolItem.classList.remove('bg-[#161725]');
                toolItem.classList.add('bg-primary', 'border-primary');
                button.innerHTML = `
                    <svg class="w-14 h-14 text-white" fill="none" stroke="white" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 12h12"></path>
                    </svg>
                `;
                button.classList.add('bg-[#444CE7]');
            }
            
            updateCreateButton();
        }

        // Add tool click listeners
        document.addEventListener('click', function(e) {
            if (e.target.closest('.tool-btn') || e.target.closest('.tool-item')) {
                e.preventDefault();
                const toolItem = e.target.closest('.tool-item');
                // Check if we're in Create Layout modal
                if (createLayoutModal && !createLayoutModal.classList.contains('hidden')) {
                    toggleTool(toolItem);
                }
            }
        });

        // Reset all tools to unselected state
        function resetAllTools() {
            document.querySelectorAll('.tool-item').forEach(tool => {
                tool.setAttribute('data-added', 'false');
                tool.classList.remove('bg-primary', 'border-primary');
                tool.classList.add('bg-[#161725]');
                const button = tool.querySelector('.tool-btn');
                button.innerHTML = `
                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                `;
                button.classList.remove('bg-[#444CE7]');
            });
        }

        // Update create button state
        function updateCreateButton() {
            const hasName = layoutNameInput.value.trim().length > 0;
            const hasSelectedTools = document.querySelectorAll('.tool-item[data-added="true"]').length > 0;
            
            if (hasName && hasSelectedTools) {
                createBtn.disabled = false;
                createBtn.classList.remove('bg-gray-600');
                createBtn.classList.add('bg-[#3538CD]');
            } else {
                createBtn.disabled = true;
                createBtn.classList.remove('bg-[#3538CD]');
                createBtn.classList.add('bg-gray-600');
            }
        }

        // Listen for layout name input changes
        layoutNameInput.addEventListener('input', updateCreateButton);

        // Create layout button functionality
        createBtn.addEventListener('click', function() {
            if (!this.disabled) {
                const layoutName = layoutNameInput.value.trim();
                const selectedTools = Array.from(document.querySelectorAll('.tool-item[data-added="true"]'))
                    .map(tool => tool.getAttribute('data-tool'));
                
                console.log('Creating layout:', layoutName);
                console.log('Selected tools:', selectedTools);
                
                // Close current modal and open Add Layout modal
                closeModalFunction();
                
                // Open Add Layout modal
                document.getElementById('addLayoutModal').classList.remove('hidden');
                
                // Add your layout creation logic here
            }
        });

        // Add Layout Modal functionality
        const addLayoutModal = document.getElementById('addLayoutModal');
        const closeAddLayoutModal = document.getElementById('closeAddLayoutModal');
        const cancelAddLayoutBtn = document.getElementById('cancelAddLayoutBtn');
        const addLayoutBtn = document.getElementById('addLayoutBtn');

        // Close Add Layout modal functions
        function closeAddLayoutModalFunction() {
            addLayoutModal.classList.add('hidden');
            // Reset tools in Add Layout modal
            resetAllAddLayoutTools();
        }

        closeAddLayoutModal.addEventListener('click', closeAddLayoutModalFunction);
        cancelAddLayoutBtn.addEventListener('click', closeAddLayoutModalFunction);

        // Close Add Layout modal when clicking outside
        addLayoutModal.addEventListener('click', function(e) {
            if (e.target === addLayoutModal) {
                closeAddLayoutModalFunction();
            }
        });

        // Add Layout tool selection functionality
        function toggleAddLayoutTool(toolItem) {
            const isAdded = toolItem.getAttribute('data-added') === 'true';
            const button = toolItem.querySelector('.tool-btn');
            const iconSvg = toolItem.querySelector('.tool-icon svg');
            const labelSpan = toolItem.querySelector('.tool-label');
            
            if (isAdded) {
                // Remove tool
                toolItem.setAttribute('data-added', 'false');
                toolItem.classList.remove('bg-primary', 'border-primary');
                toolItem.classList.remove('border-[#3538CD]', 'border-2');
                toolItem.classList.add('bg-[#161725]');
                button.innerHTML = `
                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                `;
                button.classList.remove('bg-[#444CE7]');
                
                // Reset icon stroke color
                if (iconSvg) {
                    iconSvg.setAttribute('stroke', '#636E85');
                    iconSvg.setAttribute('fill', '#636E85');
                }
                
                // Reset label color
                if (labelSpan) {
                    labelSpan.classList.remove('text-[#191D40]');
                    labelSpan.classList.add('text-white');
                }
            } else {
                // Add tool
                toolItem.setAttribute('data-added', 'true');
                toolItem.classList.remove('bg-[#161725]');
                toolItem.classList.add('bg-primary', 'border-primary');
                toolItem.classList.add('border-[#3538CD]', 'border-2');
                button.innerHTML = `
                    <svg class="w-14 h-14 text-white" fill="none" stroke="white" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 12h12"></path>
                    </svg>
                `;
                button.classList.add('bg-[#444CE7]');
                
                // Change icon stroke color to blue
                if (iconSvg) {
                    iconSvg.setAttribute('stroke', '#444CE7');
                    iconSvg.setAttribute('fill', '#444CE7');
                }
                
                // Change label color
                if (labelSpan) {
                    labelSpan.classList.remove('text-white');
                    labelSpan.classList.add('text-[#191D40]');
                }
            }
        }

        // Add tool click listeners for Add Layout modal
        document.addEventListener('click', function(e) {
            if (e.target.closest('.tool-btn') || e.target.closest('.tool-item')) {
                e.preventDefault();
                const toolItem = e.target.closest('.tool-item');
                // Check if we're in Add Layout modal
                if (addLayoutModal && !addLayoutModal.classList.contains('hidden')) {
                    toggleAddLayoutTool(toolItem);
                }
            }
        });

        // Reset all tools in Add Layout modal to unselected state
        function resetAllAddLayoutTools() {
            document.querySelectorAll('.tool-item').forEach(tool => {
                tool.setAttribute('data-added', 'false');
                tool.classList.remove('bg-primary', 'border-primary');
                tool.classList.remove('border-[#3538CD]', 'border-2');
                tool.classList.add('bg-[#161725]');
                const button = tool.querySelector('.tool-btn');
                const iconSvg = tool.querySelector('.tool-icon svg');
                const labelSpan = tool.querySelector('.tool-label');
                
                button.innerHTML = `
                    <svg class="w-14 h-14 text-white" fill="none" stroke="#444CE7" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path>
                    </svg>
                `;
                button.classList.remove('bg-[#444CE7]');
                
                // Reset icon stroke color
                if (iconSvg) {
                    iconSvg.setAttribute('stroke', '#636E85');
                    iconSvg.setAttribute('fill', '#636E85');
                }
                
                // Reset label color
                if (labelSpan) {
                    labelSpan.classList.remove('text-[#191D40]');
                    labelSpan.classList.add('text-white');
                }
            });
        }

        // Add Layout button functionality
        addLayoutBtn.addEventListener('click', function() {
            const selectedTools = Array.from(document.querySelectorAll('.tool-item[data-added="true"]'))
                .map(tool => tool.getAttribute('data-tool'));
            
            console.log('Adding layout with tools:', selectedTools);
            
            // Save the layout
            saveLayout(selectedTools);
            
            // Close Add Layout modal
            closeAddLayoutModalFunction();
        });

        // Layout storage functionality
        // Clear existing localStorage and set default layouts
        localStorage.removeItem('savedLayouts');
        let savedLayouts = [
            {
                id: 1,
                name: "My First Layout",
                tools: ["bar-chart", "most-active-tickers", "events", "pie-chart", "line-chart"],
                toolCount: 5,
                createdAt: new Date().toISOString()
            },
            {
                id: 2,
                name: "My Custom Layout",
                tools: ["most-active-tickers", "events", "x-twitter", "area-chart"],
                toolCount: 4,
                createdAt: new Date().toISOString()
            },
            {
                id: 3,
                name: "My Favorite Layout",
                tools: ["bar-chart", "most-active-tickers", "events", "pie-chart", "line-chart", "candlestick-chart"],
                toolCount: 6,
                createdAt: new Date().toISOString()
            }
        ];
        localStorage.setItem('savedLayouts', JSON.stringify(savedLayouts));

        function saveLayout(tools) {
            const layoutName = prompt('Enter layout name:');
            if (layoutName && tools.length > 0) {
                const layout = {
                    id: Date.now(),
                    name: layoutName,
                    tools: tools,
                    toolCount: tools.length,
                    createdAt: new Date().toISOString()
                };
                
                savedLayouts.unshift(layout); // Add to beginning
                
                // Keep only last 10 layouts
                if (savedLayouts.length > 10) {
                    savedLayouts = savedLayouts.slice(0, 10);
                }
                
                localStorage.setItem('savedLayouts', JSON.stringify(savedLayouts));
                displaySavedLayouts();
            }
        }

        function displaySavedLayouts() {
            const savedLayoutsSection = document.getElementById('savedLayoutsSection');
            const savedLayoutsList = document.getElementById('savedLayoutsList');
            savedLayoutsList.innerHTML = '';
            
            if (savedLayouts.length === 0) {
                // Hide the entire section when no layouts exist
                savedLayoutsSection.classList.add('hidden');
                return;
            }
            
            // Show the section when layouts exist
            savedLayoutsSection.classList.remove('hidden');
            
            // Only show the last 3 saved layouts
            const lastThree = savedLayouts.slice(0, 3);
            lastThree.forEach(layout => {
                const layoutElement = document.createElement('div');
                layoutElement.className = 'flex items-between justify-between bg-[#161725] rounded-lg p-6 cursor-pointer hover:bg-[#1A1A1A] transition-colors group border border-[#2A2A2A] max-h-[40px] w-[500px] mx-auto';
                layoutElement.innerHTML = `
                    <div class="flex items-center ">
                        <span class="text-[#A1ACC2] text-[18px] font-medium">${layout.name}</span>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="text-[#636E85] text-sm">${layout.toolCount} tools</span>
                        <svg class="w-6 h-6 text-[#636E85] group-hover:text-white transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                        </svg>
                    </div>
                `;
                
                // Click functionality removed - only CSS styling remains
                
                savedLayoutsList.appendChild(layoutElement);
            });
        }

        function loadLayout(layout) {
            console.log('Loading layout:', layout);
            // You can add more logic here to actually load the layout
            alert(`Loading layout: ${layout.name} with ${layout.toolCount} tools`);
        }

        // Initialize saved layouts display when page loads
        document.addEventListener('DOMContentLoaded', function() {
            displaySavedLayouts();
            
            // Button click functionality for Current Layout buttons
            const saveLayoutBtn = document.getElementById('saveLayoutBtn');
            const editLayoutBtn = document.getElementById('editLayoutBtn');
            const closeLayoutBtn = document.getElementById('closeLayoutBtn');
            
            if (saveLayoutBtn) {
                saveLayoutBtn.addEventListener('click', function() {
                    this.style.backgroundColor = '#444CE7';
                    setTimeout(() => {
                        this.style.backgroundColor = '';
                    }, 200);
                    
                    // Show confirmation modal
                    document.getElementById('saveLayoutModal').classList.remove('hidden');
                });
            }
            
            if (editLayoutBtn) {
                editLayoutBtn.addEventListener('click', function() {
                    this.style.backgroundColor = '#444CE7';
                    setTimeout(() => {
                        this.style.backgroundColor = '';
                    }, 200);
                    
                    // Open Create Layout Modal and change button text
                    const createLayoutModal = document.getElementById('createLayoutModal');
                    const createBtn = document.getElementById('createBtn');
                    
                    if (createLayoutModal) {
                        createLayoutModal.classList.remove('hidden');
                    }
                    
                    if (createBtn) {
                        createBtn.textContent = 'Update Layout';
                    }
                    
                    // Pre-fill the input field with current layout name
                    if (layoutNameInput) {
                        layoutNameInput.value = 'My Most Used Layout';
                    }
                });
            }
            
            if (closeLayoutBtn) {
                closeLayoutBtn.addEventListener('click', function() {
                    this.style.backgroundColor = '#444CE7';
                    setTimeout(() => {
                        this.style.backgroundColor = '';
                    }, 200);
                    
                    // Show unsaved changes confirmation modal
                    document.getElementById('unsavedChangesModal').classList.remove('hidden');
                });
            }
        });

        // Unsaved Changes Modal functionality
        const unsavedChangesModal = document.getElementById('unsavedChangesModal');
        const closeUnsavedModal = document.getElementById('closeUnsavedModal');
        const discardChangesBtn = document.getElementById('discardChangesBtn');
        const saveBeforeCloseBtn = document.getElementById('saveBeforeCloseBtn');

        // Close unsaved modal functions
        function closeUnsavedModalFunc() {
            unsavedChangesModal.classList.add('hidden');
        }

        // Event listeners for unsaved modal
        if (closeUnsavedModal) {
            closeUnsavedModal.addEventListener('click', closeUnsavedModalFunc);
        }

        if (discardChangesBtn) {
            discardChangesBtn.addEventListener('click', function() {
                // Discard changes and close
                console.log('Changes discarded!');
                closeUnsavedModalFunc();
                // Here you can add logic to actually discard changes
            });
        }

        if (saveBeforeCloseBtn) {
            saveBeforeCloseBtn.addEventListener('click', function() {
                // Save and close
                console.log('Layout saved before closing!');
                closeUnsavedModalFunc();
                showToast();
            });
        }

        // Close unsaved modal when clicking outside
        if (unsavedChangesModal) {
            unsavedChangesModal.addEventListener('click', function(e) {
                if (e.target === unsavedChangesModal) {
                    closeUnsavedModalFunc();
                }
            });
        }

        // Save Layout Modal functionality
        const saveLayoutModal = document.getElementById('saveLayoutModal');
        const closeSaveModal = document.getElementById('closeSaveModal');
        const cancelSaveBtn = document.getElementById('cancelSaveBtn');
        const confirmSaveBtn = document.getElementById('confirmSaveBtn');

        // Close modal functions
        function closeSaveModalFunc() {
            saveLayoutModal.classList.add('hidden');
        }

        // Event listeners for modal
        if (closeSaveModal) {
            closeSaveModal.addEventListener('click', closeSaveModalFunc);
        }

        if (cancelSaveBtn) {
            cancelSaveBtn.addEventListener('click', closeSaveModalFunc);
        }

        if (confirmSaveBtn) {
            confirmSaveBtn.addEventListener('click', function() {
                // Here you can add the actual save functionality
                console.log('Layout saved!');
                closeSaveModalFunc();
                
                // Show toast notification
                showToast();
            });
        }

        // Close modal when clicking outside
        if (saveLayoutModal) {
            saveLayoutModal.addEventListener('click', function(e) {
                if (e.target === saveLayoutModal) {
                    closeSaveModalFunc();
                }
            });
        }

        // Toast Notification functionality
        const toastNotification = document.getElementById('toastNotification');
        const closeToast = document.getElementById('closeToast');
        const toastProgress = document.getElementById('toastProgress');

        function showToast() {
            // Show toast
            toastNotification.classList.remove('hidden');
            
            // Reset progress bar to 0%
            toastProgress.style.width = '0%';
            
            // Animate progress bar from 0% to 100%
            setTimeout(() => {
                toastProgress.style.width = '100%';
            }, 100);
            
            // Auto hide after 3 seconds
            setTimeout(() => {
                hideToast();
            }, 3000);
        }

        function hideToast() {
            toastNotification.classList.add('hidden');
        }

        // Close toast button
        if (closeToast) {
            closeToast.addEventListener('click', hideToast);
        }

        // Add keyboard navigation support
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                const focused = document.activeElement;
                if (focused && focused.classList.contains('cursor-pointer')) {
                    focused.click();
                }
            }
            
            // Close modal with Escape key
            if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModalFunction();
            }
            
            // Close Add Layout modal with Escape key
            if (e.key === 'Escape' && addLayoutModal && !addLayoutModal.classList.contains('hidden')) {
                closeAddLayoutModalFunction();
            }
        });
    </script>
</body>
</html>